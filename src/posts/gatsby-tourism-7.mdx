---
title: Learn GatsbyJS by creating a tourism site -7
slug: gatsby-tourism-7
image: ./gatsby-tourism-7.jpeg
date: 2019-12-07
author: Nabendu Biswas
twitter: https://twitter.com/nabendu82
github: https://github.com/nabendu82
dev: https://dev.to/nabendu82
series: Gatsby-tourism
tags: ['gatsby', 'react', 'javascript']
---
import styles from "../css/postTemplate.module.css"

Welcome to part-7 of the series. In this part we will start optimizing the background images in our site. Right now we have only one big background image in the home page. For this we will use the **gatsby-background-image** plugin. The doc for the same is [here](https://www.gatsbyjs.org/packages/gatsby-background-image/).

So, let’s stop our **gatsby develop** and npm install the plugin.

![npm install](https://ik.imagekit.io/thewebdev/GatsbyTourism/7/1_bF7_KHAQx.png)*npm install*

Next, start the development server by **gatsby develop**. After that head over to your code editor and create a new file **StyledHero.js** inside it.

![StyledHero](https://ik.imagekit.io/thewebdev/GatsbyTourism/7/2_s_2AWkB-5.png)*StyledHero*

Put the below content in the file. We are making **StyledHero.js** a general purpose component, which can be used in all pages for the large hero image. All of the code for the component is taken from the [docs](https://www.gatsbyjs.org/packages/gatsby-background-image/) of the **gatsby-background-image** plugin.

![StyledHero](https://ik.imagekit.io/thewebdev/GatsbyTourism/7/3_X8gfvitbDu.png)*StyledHero*

We are using one additional props in our component, which is home. Our home page will also contain a linear gradient and also the size of the image will also cover the entire page.

We took both of them from the existing **layout.css**, which is been used in the **SimpleHero.js** component.

![layout.css](https://ik.imagekit.io/thewebdev/GatsbyTourism/7/4_KvQlNRdcfm.png)*layout.css*

Now let’s rendered our **StyledHero** in our **Home** page. Move over to **index.js** and replace the **SimpleHero** with **StyledHero**.

![StyledHero](https://ik.imagekit.io/thewebdev/GatsbyTourism/7/5_xNOsfJg-s.png)*StyledHero*

Next, we will create our query for displaying image in GraphiQL.

![GraphiQL](https://ik.imagekit.io/thewebdev/GatsbyTourism/7/6_ePcwxAb5-w.png)*GraphiQL*

Earlier we used **StaticQuery** but we will be using **PageQuery** because **index.js** is a page. Here, we are using the query which we had created in our GraphiQL. After that passing it as props to our **StyledHero** component.

![index.js](https://ik.imagekit.io/thewebdev/GatsbyTourism/7/7_5Db9Eft7Uw.png)*index.js*

Now, when we check in the browser we can see our optimized background image.

![Optimized background](https://ik.imagekit.io/thewebdev/GatsbyTourism/7/8_Pk98_7vn2f.png)*Optimized background*

Next, we will add background image to all pages. First, we will add in the **places.js** file. Everything will be similar to **index.js** , except that we are not passing the **home** prop in **StyledHero**.

![places.js](https://ik.imagekit.io/thewebdev/GatsbyTourism/7/9_IqY52azrRy.png)*places.js*

By not passing the home prop, we get a smaller image with no linear gradient.

![Places](https://ik.imagekit.io/thewebdev/GatsbyTourism/7/10_8eOri1sFyP.png)*Places*

Next, we will update the **contact.js** page. Here we are using a different image.

![contact.js](https://ik.imagekit.io/thewebdev/GatsbyTourism/7/11_UgqYGFLF0P.png)*contact.js*

It will result in the below change in our Contact page in browser.

![Contact Page](https://ik.imagekit.io/thewebdev/GatsbyTourism/7/12_0VOhaIyAY.png)*Contact Page*

Next, we will update the **blog.js** file. Here also we are using a different image.

![blog.js](https://ik.imagekit.io/thewebdev/GatsbyTourism/7/13_gY1QTmHa_D.png)*blog.js*

And our Blog page looks like below in browser.

![Blog page](https://ik.imagekit.io/thewebdev/GatsbyTourism/7/14_LKyixj1mAO.png)*Blog page*

This completes part-7 of the series. You can find the code for the same in [this](https://github.com/nabendu82/gatsbyTourism) link.

As i pushed my code to github, it also did an automatic deployment to netlify which we did in [part-5](https://dev.to/nabendu82/learn-gatsbyjs-by-creating-a-tourism-site-5-h5a).

So, you can also find the updated site on [https://amazinghampi.netlify.com/](https://amazinghampi.netlify.com/)


