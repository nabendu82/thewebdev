---
title: Learn GatsbyJS by creating a tourism site -15
slug: gatsby-tourism-15
image: ./gatsby-tourism-15.jpeg
date: 2019-12-19
author: Nabendu Biswas
twitter: https://twitter.com/nabendu82
github: https://github.com/nabendu82
dev: https://dev.to/nabendu82
series: Gatsby-tourism
tags: ['gatsby', 'react', 'javascript']
---
import styles from "../css/postTemplate.module.css"

Welcome to part-15 of the series. Before moving forward, i would want to create another graphql query. Generally the blog are posted in descending order, meaning the newer blogs should come up.

![Desc posts](https://ik.imagekit.io/thewebdev/GatsbyTourism/15/1_eQGVVi9nSZ.png)*Desc posts*

It time to write the code to display the blog component. Create a new folder **Blog** inside **components** folder. Inside it create two files **BlogList.js** and **BlogCard.js**

![Blog](https://ik.imagekit.io/thewebdev/GatsbyTourism/15/2_JdS7cY9MT.png)*Blog*

Let’s first add the CSS required for this component in **css** folder. Add a file **blog.module.css** in **css** folder and the below content.

<div className={styles.code__block}>

```
    .blog {
        padding: 4rem 0;
    }
    .center {
        width: 80vw;
        margin: 3rem auto;
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        grid-column-gap: 2rem;
        grid-row-gap: 2rem;
    }
    .links {
        width: 80vw;
        margin: 0 auto 5rem auto;
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
    }
    .link {
        text-transform: uppercase;
        letter-spacing: var(--mainSpacing);
        background: var(--primaryColor);
        color: var(--mainWhite);
        border: 2px solid var(--primaryColor);
        padding: 0.25rem 0.5rem;
        border-radius: 0.5rem;
        display: inline-block;
        transition: var(--mainTransition);
        cursor: pointer;
    }
    .link:hover {
        background: transparent;
        color: var(--primaryColor);
    }
    .active {
        background: var(--mainWhite);
        color: var(--primaryColor);
    }

    @media screen and (min-width: 576px) {
        .center {
            grid-template-columns: repeat(auto-fill, minmax(368.66px, 1fr));
        }
        .links {
            width: 60vw;
        }
    }
    @media screen and (min-width: 1200px) {
        .center {
            width: 100%;
            max-width: 1170px;
        }
    }
```

</div>

Next, let’s add this dummy content for now in **BlogCard.js** which we will change soon.

![BlogCard component](https://ik.imagekit.io/thewebdev/GatsbyTourism/15/3_Sv5QRbUude.png)*BlogCard component*

Next, add the below content in **BlogList.js** file. Here, we are using the graphql query which we created earlier in our graphiql playground. We are mapping through the response which we are getting from this query.

<div className={styles.code__block}>

```
    import React from "react"
    import BlogCard from "./BlogCard"
    import Title from "../Title"
    import { useStaticQuery, graphql } from "gatsby"
    import styles from "../../css/blog.module.css"

    const getPosts = graphql`
    query {
    posts: allContentfulPost(sort:{fields:published,order:DESC}) {
        edges {
            node {
                title
                slug
                published(formatString: "MMMM Do, YYYY")
                author
                id: contentful_id
                image {
                    fluid {
                        ...GatsbyContentfulFluid
                    }
                }
            }
        }
    }
    }
    `
    const BlogList = () => {
        const { posts } = useStaticQuery(getPosts)

    return (
            <section className={styles.blog}>
                <Title title="hampi" subtitle="blogs" />
                <div className={styles.center}>
                    {posts.edges.map(({ node }) => {
                        return <BlogCard key={node.id} blog={node} />
                    })}
                </div>
            </section>
        )
    }

    export default BlogList
```

</div>

Finally, add this component to **blog.js** file so that it can be rendered when we click on the blog page.

![BlogList](https://ik.imagekit.io/thewebdev/GatsbyTourism/15/4_XYRdKTauEF.png)*BlogList*

We will work on the **BlogCard** component now. But first let’s add some styles for it. Create a new file **blog-card.module.css** inside the **css** folder. Add the below content in it.

<div className={styles.code__block}>

```
    .blog {
        box-shadow: var(--lightShadow);
        transition: var(--mainTransition);
    }
    .blog:hover {
        box-shadow: var(--darkShadow);
    }

    .img-container {
        position: relative;
        background: var(--primaryColor);
        transition: var(--mainTransition);
    }
    .img {
        transition: var(--mainTransition);
    }
    .img-container:hover .img {
        opacity: 0.3;
    }

    .link {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        opacity: 0;
        text-transform: uppercase;
        letter-spacing: var(--mainSpacing);
        color: var(--mainWhite);
        border: 2px solid var(--mainWhite);
        padding: 0.5rem 0.7rem;
        display: inline-block;
        transition: var(--mainTransition);
        cursor: pointer;
    }
    .link:hover {
        background: var(--mainWhite);
        color: var(--primaryColor);
    }
    .img-container:hover .link {
        opacity: 1;
    }

    .footer {
        padding: 1rem;
        text-align: left;
    }
    .footer h4 {
        text-transform: capitalize;
        margin-bottom: 0;
    }
    .date {
        position: absolute;
        left: 0;
        top: 75%;
        background: var(--primaryColor);
        padding: 0.3rem 0.5rem;
        border-top-right-radius: 1rem;
        border-bottom-right-radius: 1rem;
    }
```

</div>

Next, let’s update our **BlogCard.js** file with real code. Here, we are just adding some styles from the css file. We are getting the props **blog** which we are from the **BlogList** component. We are destructring it and taking the title image and published to show the blog.

Once we click on the post, we will use the slug to display it. But that we will do in the next part.

![BlogCard.js](https://ik.imagekit.io/thewebdev/GatsbyTourism/15/5_aS5_nZnAzZ.png)*BlogCard.js*

It will show all our four blogs from contentful, in the below way in the browser.

![Hampi blog](https://ik.imagekit.io/thewebdev/GatsbyTourism/15/6_19uWTI1tg.png)*Hampi blog*

This completes part-15 of the series. You can find the code for the same [here](https://github.com/nabendu82/gatsbyTourism).

Also, because of the continuous deployment it got successfully pushed to netlify [site](https://amazinghampi.netlify.com/).

See you soon.
